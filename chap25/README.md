# 25μ¥ μ¤ν”„λ§ νΈλμ­μ… κΈ°λ¥ μ‚¬μ©ν•κΈ°

> * νΈλμ­μ…μ€ μ–Έμ λ‚ μ¤‘μ”ν•λ‹¤..π‘
> * μμ  ν”„λ΅μ νΈ: 
>   * [pro25](pro25)



## 25.1 νΈλμ μ… κΈ°λ¥

* ...

* νΈλμ μ…μ€ μ»¤λ„¥μ… λ‹¨μ„μ΄κΈ° λ•λ¬Έμ— DataSource λ΅ νΈλμ μ… λ©”λ‹μ €λ¥Ό μƒμ„±ν•΄μ£Όλ©΄ λ¨.

  * https://mybatis.org/spring/ko/transactions.html

    





---

## μ§„ν–‰

* ...
  



## μκ²¬

* ...



## μ •μ¤ν‘

* ...



## κΈ°νƒ€

### `@BeforeTransaction`, `@AfterTransaction`μ€ μ–Έμ  μ‚¬μ©ν• κΉ?

**`@BeforeTransaction`**

> Springμ `@Transactional` μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ νΈλμ­μ… λ‚΄μ—μ„ μ‹¤ν–‰λλ„λ΅ κµ¬μ„±λ ν…μ¤νΈ λ©”μ„λ“μ— λ€ν•΄ νΈλμ­μ…μ΄ μ‹μ‘λκΈ° μ „μ— μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ¦° void λ©”μ„λ“κ°€ μ‹¤ν–‰λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λ‚΄λ” ν…μ¤νΈ μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤.
> μνΌν΄λμ¤ λλ” μΈν„°νμ΄μ¤ κΈ°λ³Έ λ©”μ„λ“λ΅ μ„ μ–Έλ `@BeforeTransaction` λ©”μ„λ“λ” ν„μ¬ ν…μ¤νΈ ν΄λμ¤μ λ©”μ„λ“λ³΄λ‹¤ λ¨Όμ € μ‹¤ν–‰λ©λ‹λ‹¤.
> μ΄ μ–΄λ…Έν…μ΄μ…μ€ λ©”νƒ€ μ–΄λ…Έν…μ΄μ…μΌλ΅ μ‚¬μ©λμ–΄ μ‚¬μ©μ μ •μ κµ¬μ„±λ μ–΄λ…Έν…μ΄μ…μ„ μƒμ„±ν•  μ μμµλ‹λ‹¤.
> Spring ν”„λ μ„μ›ν¬ 4.3λ¶€ν„° @BeforeTransactionμ€ Java 8 κΈ°λ° μΈν„°νμ΄μ¤ κΈ°λ³Έ λ©”μ„λ“μ—μ„λ„ μ„ μ–Έν•  μ μμµλ‹λ‹¤.

**`@AfterTransaction`**

> Springμ `@Transactional` μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ νΈλμ­μ… λ‚΄μ—μ„ μ‹¤ν–‰λλ„λ΅ κµ¬μ„±λ ν…μ¤νΈ λ©”μ„λ“μ— λ€ν•΄ νΈλμ­μ…μ΄ μΆ…λ£λ ν›„ μ–΄λ…Έν…μ΄μ…λ void λ©”μ„λ“κ°€ μ‹¤ν–‰λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λ‚΄λ” ν…μ¤νΈ μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤.
> μνΌν΄λμ¤ λλ” μΈν„°νμ΄μ¤ κΈ°λ³Έ λ©”μ„λ“λ΅ μ„ μ–Έλ `@AfterTransaction` λ©”μ„λ“λ” ν„μ¬ ν…μ¤νΈ ν΄λμ¤μ λ©”μ„λ“ λ‹¤μμ— μ‹¤ν–‰λ©λ‹λ‹¤.
> μ΄ μ–΄λ…Έν…μ΄μ…μ€ λ©”νƒ€ μ–΄λ…Έν…μ΄μ…μΌλ΅ μ‚¬μ©λμ–΄ μ‚¬μ©μ μ •μ κµ¬μ„±λ μ–΄λ…Έν…μ΄μ…μ„ μƒμ„±ν•  μ μμµλ‹λ‹¤.
> Spring ν”„λ μ„μ›ν¬ 4.3λ¶€ν„° @AfterTransactionμ€ Java 8 κΈ°λ° μΈν„°νμ΄μ¤ κΈ°λ³Έ λ©”μ„λ“μ—μ„λ„ μ„ μ–Έν•  μ μμµλ‹λ‹¤.

μ „μ— AutoIncrement κ°’ μ΄κΈ°ν™”ν• λ ¤κ³  μ“°λ ¤λ‹¤ λ§μ•λ”λ°... μ•„μ§ κΌ­ ν•„μ”ν• λ¶€λ¶„μ΄ μμ„μ§€λ” μ λ¨λ¥΄κ² μ.
